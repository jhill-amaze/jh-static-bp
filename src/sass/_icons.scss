// Global SASS relating to icons

// Icon map is auto-generated by the make:iconsass task (node-scripts/map-icons.js)
@import "./lib/_iconmap.scss";

@font-face {
	font-family: 'iconfont';
	src: url('../fonts/iconfont.woff2') format('woff2'),
		url('../fonts/iconfont.woff') format('woff'),
		url('../fonts/iconfont.ttf')  format('truetype'),
		url('../fonts/iconfont.svg#svgFontName') format('svg');
}

// Provides a convenient way to reference icons by name within SASS files
@mixin icon($name, $position:before) {

	@if map-has-key($icons, $name) {
		$val: map-get($icons, $name);
		@if $position == before {
			&:before {
				content: $val;
				font-family: iconfont;
				font-style: normal;
				font-weight: normal;
				line-height: 1;
				vertical-align: top;
				@content;
			}
		}
		@else {
			&:after {
				content: $val;
				font-family: iconfont;
				font-style: normal;
				font-weight: normal;
				line-height: 1;
				vertical-align: top;
				@content;
			}
		}
	}
	@else {
		@warn "ERROR: Key `#{$name}` not found in $icons"
	}
}